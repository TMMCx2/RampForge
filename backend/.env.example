# ============================================================
# DCDock Backend Configuration
# ============================================================
# Copy this file to .env and configure for your environment
# NEVER commit .env file to version control!

# ============================================================
# APPLICATION
# ============================================================
APP_NAME="DCDock API"
APP_VERSION="1.0.0"

# Debug mode - enables auto-reload, detailed errors, test mode
# MUST be false in production for security and stability
# In development: DEBUG=true
# In production: DEBUG=false
DEBUG=true

# ============================================================
# DATABASE CONFIGURATION
# ============================================================
# Development (SQLite - single file database, good for testing):
DATABASE_URL="sqlite+aiosqlite:///./dcdock.db"

# Production (PostgreSQL - recommended for production use):
# DATABASE_URL="postgresql+asyncpg://username:password@localhost:5432/dcdock"
#
# PostgreSQL Connection String Format:
# postgresql+asyncpg://[user[:password]@][host][:port]/database
#
# Example with all options:
# DATABASE_URL="postgresql+asyncpg://dcdock_user:SecurePass123!@db.example.com:5432/dcdock_prod"
#
# For Docker Compose:
# DATABASE_URL="postgresql+asyncpg://dcdock:dcdock@postgres:5432/dcdock"

# ============================================================
# SECURITY
# ============================================================
# JWT Secret Key - CRITICAL: Change this in production!
# This key is used to sign and verify JWT tokens
# If changed, all existing tokens become invalid
#
# Generate a secure key with:
# python3 -c "from secrets import token_urlsafe; print(token_urlsafe(32))"
#
# Example output: "xK9j2P8mN4vR7sT1qW5yH3bL6eF0gD8cA9zX4pQ2wE5"
#
# ⚠️  WARNING: Never commit real SECRET_KEY to version control!
# ⚠️  WARNING: Keep this consistent - changing it logs out all users!
SECRET_KEY="your-secret-key-change-this-in-production-use-generator-above"

# JWT Algorithm - HS256 is standard and secure
# Don't change unless you know what you're doing
ALGORITHM="HS256"

# JWT Token Expiration (in minutes)
# Default: 1440 minutes = 24 hours
# Shorter = more secure but less convenient
# Longer = more convenient but less secure
# Recommended production: 480 (8 hours) to 1440 (24 hours)
ACCESS_TOKEN_EXPIRE_MINUTES=1440

# ============================================================
# CORS (Cross-Origin Resource Sharing)
# ============================================================
# List of origins (domains) allowed to access the API
# Format: JSON array of strings
#
# Development (allow localhost):
CORS_ORIGINS=["http://localhost:8000", "http://localhost:3000", "http://127.0.0.1:8000"]
#
# Production (specify your actual domains):
# CORS_ORIGINS=["https://dcdock.example.com", "https://app.example.com"]
#
# ⚠️  WARNING: Never use ["*"] (allow all) in production!
# ⚠️  WARNING: Always use HTTPS in production (https://), not HTTP!

# ============================================================
# SERVER CONFIGURATION
# ============================================================
# Host address to bind to
# "0.0.0.0" = Listen on all network interfaces (accessible from outside)
# "127.0.0.1" = Listen only on localhost (only local connections)
# Recommended: "0.0.0.0" for production, "127.0.0.1" for development
API_HOST="0.0.0.0"

# Port to listen on
# Default: 8000
# Change if port conflicts with other services
API_PORT=8000

# ============================================================
# RATE LIMITING
# ============================================================
# Login endpoint is automatically rate-limited to 5 attempts/minute
# This is hardcoded for security and cannot be disabled
# Configuration for other endpoints can be added here if needed

# ============================================================
# LOGGING
# ============================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
# Development: DEBUG shows all messages
# Production: INFO shows important events, WARNING shows issues
# LOG_LEVEL="INFO"

# Log file location (created automatically)
# LOG_FILE="logs/dcdock.log"

# ============================================================
# PRODUCTION DEPLOYMENT CHECKLIST
# ============================================================
# Before deploying to production, ensure:
# [ ] DEBUG=false
# [ ] SECRET_KEY is changed to a secure random value
# [ ] DATABASE_URL points to PostgreSQL (not SQLite)
# [ ] CORS_ORIGINS contains only your actual domains (HTTPS)
# [ ] Default passwords changed (run seed.py with new passwords)
# [ ] Firewall configured (only necessary ports open)
# [ ] HTTPS/SSL configured (behind reverse proxy like Nginx)
# [ ] Regular database backups configured
# [ ] Log rotation configured (logs directory can grow large)

# ============================================================
# OPTIONAL: ADVANCED CONFIGURATION
# ============================================================
# These are typically not needed but available if required

# Database pool settings (PostgreSQL only)
# DB_POOL_SIZE=5
# DB_MAX_OVERFLOW=10
# DB_POOL_TIMEOUT=30

# Session settings
# SESSION_SECRET_KEY="another-random-key-for-sessions"
# SESSION_COOKIE_NAME="dcdock_session"

# Timezone (for datetime operations)
# TZ="UTC"
# TZ="Europe/Warsaw"

# ============================================================
# DOCKER-SPECIFIC CONFIGURATION
# ============================================================
# When running in Docker, use these settings:
# DATABASE_URL="postgresql+asyncpg://dcdock:dcdock@postgres:5432/dcdock"
# API_HOST="0.0.0.0"
# CORS_ORIGINS=["http://localhost:3000"]
